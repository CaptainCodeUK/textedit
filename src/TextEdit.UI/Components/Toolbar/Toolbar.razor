@using TextEdit.UI.App
@using TextEdit.UI.Services
@using static TextEdit.UI.Services.MarkdownFormattingService

@if (AppState.Preferences.ToolbarVisible)
{
        <div class="toolbar">
                <!-- File Operations -->
                <button type="button" 
                                class="toolbar-button" 
                                title="New (Ctrl+N)"
                                aria-label="New File"
                                tabindex="-1"
                                @onclick="HandleNew">
                        <span class="icon">üìÑ</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Open File (Ctrl+O)"
                                aria-label="Open File"
                                tabindex="-1"
                                @onclick="HandleOpen">
                        <span class="icon">üìÅ</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Save (Ctrl+S)"
                                aria-label="Save"
                                disabled="@(!AppState.ToolbarState.CanSave)"
                                tabindex="-1"
                                @onclick="HandleSave">
                        <span class="icon">üíæ</span>
                </button>
        
                <div class="toolbar-divider"></div>
        
                <!-- Clipboard Operations -->
                <button type="button" 
                                class="toolbar-button" 
                                title="Cut (Ctrl+X)"
                                aria-label="Cut"
                                disabled="@(!AppState.ToolbarState.CanCut)"
                                tabindex="-1"
                                @onclick="HandleCut">
                        <span class="icon">‚úÇÔ∏è</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Copy (Ctrl+C)"
                                aria-label="Copy"
                                disabled="@(!AppState.ToolbarState.CanCopy)"
                                tabindex="-1"
                                @onclick="HandleCopy">
                        <span class="icon">üìÑ</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Paste (Ctrl+V)"
                                aria-label="Paste"
                                disabled="@(!AppState.ToolbarState.CanPaste)"
                                tabindex="-1"
                                @onclick="HandlePaste">
                        <span class="icon">üìã</span>
                </button>
        
                <div class="toolbar-divider"></div>
        
                <!-- Font Family Dropdown -->
                <select class="toolbar-dropdown font-family-dropdown" 
                                title="Font Family"
                                tabindex="-1"
                                value="@(AppState.Preferences.FontFamily)"
                                @onchange="HandleFontFamilyChange">
                        <option value="">System Monospace</option>
                        @foreach (var font in GetSystemFonts())
                        {
                                <option value="@font">@font</option>
                        }
                </select>
        
                <!-- Font Size Dropdown -->
                <select class="toolbar-dropdown font-size-dropdown" 
                                title="Font Size"
                                tabindex="-1"
                                value="@(AppState.Preferences.FontSize)"
                                @onchange="HandleFontSizeChange">
                        @for (int size = 8; size <= 72; size++)
                        {
                                <option value="@size">@size pt</option>
                        }
                </select>
        
                <div class="toolbar-divider"></div>
        
                <!-- Markdown Formatting -->
                <button type="button" 
                                class="toolbar-button" 
                                title="Heading 1"
                                aria-label="Heading 1"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.H1))">
                        <span class="icon">H1</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Heading 2"
                                aria-label="Heading 2"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.H2))">
                        <span class="icon">H2</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Bold (Ctrl+B)"
                                aria-label="Bold"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.Bold))">
                        <span class="icon bold">B</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Italic (Ctrl+I)"
                                aria-label="Italic"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.Italic))">
                        <span class="icon italic">I</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Inline Code"
                                aria-label="Inline Code"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.Code))">
                        <span class="icon">`</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Bulleted List"
                                aria-label="Bulleted List"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.BulletedList))">
                        <span class="icon">‚Ä¢</span>
                </button>
        
                <button type="button" 
                                class="toolbar-button" 
                                title="Numbered List"
                                aria-label="Numbered List"
                                tabindex="-1"
                                @onclick="@(() => HandleFormat(MarkdownFormat.NumberedList))">
                        <span class="icon">1.</span>
                </button>
        </div>
}
