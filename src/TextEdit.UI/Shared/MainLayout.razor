@inherits LayoutComponentBase
@using Microsoft.JSInterop
@using TextEdit.UI.App
@inject IJSRuntime JSRuntime
@inject AppState AppState

<div class="main-layout" @onclick="OnLayoutClick">
    <header class="app-header" @onclick="OnLayoutClick" @onclick:stopPropagation="false">
        <div class="header-tabs" style="border-bottom:1px solid rgba(0,0,0,0.05);">
            <TextEdit.UI.Components.Tabs.TabStrip />
        </div>
    </header>
    
    <main class="app-main">
        @Body
    </main>
    
    <footer class="app-footer" @onclick="OnLayoutClick" @onclick:stopPropagation="false">
        <TextEdit.UI.Components.StatusBar.StatusBar />
    </footer>
</div>

@code {
    // Layout component for consistent structure across all pages
    
    private async Task OnLayoutClick(MouseEventArgs e)
    {
        // Restore focus to editor when clicking on non-interactive areas
        try
        {
            await JSRuntime.InvokeVoidAsync("editorFocus.focusDelayed", "main-editor-textarea", 0);
        }
        catch
        {
            // Ignore focus errors
        }
    }
}
